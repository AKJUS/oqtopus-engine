desc: Easy Integration Tests using Runn
runners:
  req: https://${USER_API_ENDPOINT}
vars:
  token: ${Q_API_TOKEN}
steps:
- desc: normal job
  req:
    /v1/jobs:
      post:
        headers:
          q-api-token: "{{ vars.token }}"
        body:
          application/json:
            description: x gate
            device_id: Kawasaki
            job_info:
              program:
              - OPENQASM 3; include "stdgates.inc"; qubit[2] q; bit[2] c; x q[1]; c = measure q;
            job_type: sampling
            name: normal
            shots: 1000
            status: submitted
            transpiler_info: "{ \"transpiler_lib\": \"qiskit\", \"transpiler_options\": {\"optimization_level\": 2}}"
  dump:
    expr: current.res.body
  test: |
    current.res.status == 200
